{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\项目\\life\\mygirl\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\项目\\life\\mygirl\\src\\components\\common\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\项目\\life\\mygirl\\src\\components\\common\\Detail.vue","mtime":1581661571331},{"path":"C:\\Users\\Administrator\\Desktop\\项目\\life\\mygirl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\项目\\life\\mygirl\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\项目\\life\\mygirl\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\项目\\life\\mygirl\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICB4bGlkOnRoaXMuJHJvdXRlLnF1ZXJ5LnhsaWQsDQogICAgICBsaXN0RGV0YWlsOltdLA0KICAgICAgdGl0bGVEZXRhaWw6JycsDQogICAgICBwcmljZURldGFpbDowLA0KICAgICAgbGlzdERldHM6W10sICAgLy/kuIvpnaLor6bmg4XpobXnmoQNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5sb2FkRGV0YWlsKCk7DQogIH0sDQogIG1ldGhvZHM6ew0KICAgIGNoYW5nKCl7DQogICAgICB2YXIgdXJsPSdjYXJ0JzsNCiAgICAgIHRoaXMuYXhpb3MuZ2V0KHVybCkNCiAgICAgIC50aGVuKHJlc3VsdD0+ew0KICAgICAgICBpZihyZXN1bHQuZGF0YS5jb2RlPT0tMil7DQogICAgICAgICAgdGhpcy4kdG9hc3QoJ+ivt+eZu+W9lScpOw0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvTG9naW4nKTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9DYXJ0Jyk7DQogICAgICAgIH0NCiAgICAgIH0pIA0KICAgIH0sDQogICAgLy8g5re75Yqg6LSt54mp6L2mDQogICAgYWRkQ2FydCgpew0KICAgICAgdmFyIHhsaWQ9dGhpcy54bGlkOw0KICAgICAgdmFyIHRpdGxlPXRoaXMudGl0bGVEZXRhaWw7DQogICAgICB2YXIgcHJpY2U9dGhpcy5wcmljZURldGFpbDsNCiAgICAgIHZhciBwaWM9dGhpcy5saXN0RGV0YWlsWzFdLnBpYzsNCiAgICAgIHZhciB1cmw9ImFkZGNhcnQiOyAgDQogICAgICB2YXIgb2JqPXt4bGlkLHRpdGxlLHByaWNlLHBpY30NCiAgICAgIHRoaXMuYXhpb3MuZ2V0KHVybCx7cGFyYW1zOm9ian0pDQogICAgICAudGhlbihyZXN1bHQ9PnsNCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0LmRhdGEpOw0KICAgICAgICBpZihyZXN1bHQuZGF0YS5jb2RlPT0tMil7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZWJveCgi5o+Q56S6Iiwi6K+355m75b2VIik7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9Mb2dpbicpOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB0aGlzLiR0b2FzdCgn5re75Yqg5oiQ5YqfJyk7DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBob3V0dWljbGljaygpew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsgLy/pppbpobUNCiAgICB9LA0KICAgIGNoYW5nZXMoKXsNCiAgICAgIHRoaXMuJHJvdXRlci5nbygnL0RldGFpbCcpOw0KICAgIH0sDQogICAgbG9hZERldGFpbCgpew0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy54bGlkKTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKDEpOw0KICAgICAgdmFyIHVybD0iZGV0YWlsIjsNCiAgICAgIHZhciBvYmo9e3hsaWQ6dGhpcy54bGlkfTsNCiAgICAgIHRoaXMuYXhpb3MuZ2V0KHVybCx7cGFyYW1zOm9ian0pDQogICAgICAudGhlbihyZXN1bHQ9PnsNCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0LmRhdGEuZGF0YSk7DQogICAgICAgIHRoaXMubGlzdERldGFpbD1yZXN1bHQuZGF0YS5kYXRhOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmxpc3REZXRhaWxbMF0udGl0bGUpOw0KICAgICAgICB0aGlzLnRpdGxlRGV0YWlsPXRoaXMubGlzdERldGFpbFswXS50aXRsZTsNCiAgICAgICAgdGhpcy5wcmljZURldGFpbD10aGlzLmxpc3REZXRhaWxbMF0ucHJpY2U7DQogICAgICAgIC8vIOS4i+mdouivpuaDhemhteeahA0KICAgICAgICB2YXIgdXJscz0icHJvZHVjdCI7DQogICAgICAgIHZhciBvYmpzPXtmbGlkOnRoaXMubGlzdERldGFpbFswXS5mbGlkfQ0KICAgICAgICB0aGlzLmF4aW9zLmdldCh1cmxzLHtwYXJhbXM6b2Jqc30pDQogICAgICAgIC50aGVuKHJlc3VsdD0+ew0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhLmRhdGEpOw0KICAgICAgICAgIHRoaXMubGlzdERldHM9cmVzdWx0LmRhdGEuZGF0YS5zcGxpY2UoNSk7DQogICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5saXN0RGV0cyk7DQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogIH0NCn0NCg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 详情页添加购物车 -->\r\n    <mt-swipe :auto=\"0\" class=\"page\"  >\r\n      <mt-swipe-item v-for=\"(item,i) of listDetail\" :key=\"i\"><img class=\"detail\" :src=\"`http://127.0.0.1:3000/${item.pic}`\" alt=\"\"></mt-swipe-item>\r\n    </mt-swipe>\r\n    <div class=\"desc-title\">\r\n      <h3>{{titleDetail}} 300g/盒</h3>\r\n      <p>每日采摘，空运到店，新鲜美味</p>\r\n      <p ><mt-badge size=\"small\" color=\"orange\">迎新价</mt-badge>￥{{priceDetail.toFixed(2)}}</p>\r\n      <div class=\"desc-text\">\r\n        <span class=\"detail\">--详情·DETAIL--</span>\r\n        <p>产地<span>四川成都</span></p>\r\n        <p>净重<span>1kg</span></p>\r\n        <p>储存<span>冷藏</span></p>\r\n      </div>\r\n    </div>\r\n    <p class=\"recommond\">--推荐·RECOMMEND--</p>\r\n    <div class=\"list\">\r\n      <div class=\"group\" v-for=\"(items,i) of listDets\" :key=\"i\" @click=\"changes\">\r\n        <router-link :to=\"'/detail?xlid='+items.xlid\">\r\n          <img :src=\"`http://127.0.0.1:3000/${items.pic}`\" alt=\"\">\r\n          <p>{{items.title}}</p>\r\n          <p class=\"price\">欢迎选购</p>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <div class=\"btns\">\r\n      <img class=\"houtui\" @click=\"houtuiclick\" src=\"../../assets/img/houtui.png\" alt=\"\">\r\n      <mt-button @click=\"addCart\">加入购物车</mt-button>\r\n      <mt-button @click=\"chang\">查看购物车</mt-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){\r\n    return{\r\n      xlid:this.$route.query.xlid,\r\n      listDetail:[],\r\n      titleDetail:'',\r\n      priceDetail:0,\r\n      listDets:[],   //下面详情页的\r\n    }\r\n  },\r\n  created() {\r\n    this.loadDetail();\r\n  },\r\n  methods:{\r\n    chang(){\r\n      var url='cart';\r\n      this.axios.get(url)\r\n      .then(result=>{\r\n        if(result.data.code==-2){\r\n          this.$toast('请登录');\r\n          this.$router.push('/Login');\r\n        }else{\r\n          this.$router.push('/Cart');\r\n        }\r\n      }) \r\n    },\r\n    // 添加购物车\r\n    addCart(){\r\n      var xlid=this.xlid;\r\n      var title=this.titleDetail;\r\n      var price=this.priceDetail;\r\n      var pic=this.listDetail[1].pic;\r\n      var url=\"addcart\";  \r\n      var obj={xlid,title,price,pic}\r\n      this.axios.get(url,{params:obj})\r\n      .then(result=>{\r\n        // console.log(result.data);\r\n        if(result.data.code==-2){\r\n          this.$messagebox(\"提示\",\"请登录\");\r\n          this.$router.push('/Login');\r\n        }else{\r\n          this.$toast('添加成功');\r\n        }\r\n      })\r\n    },\r\n    houtuiclick(){\r\n      this.$router.push('/'); //首页\r\n    },\r\n    changes(){\r\n      this.$router.go('/Detail');\r\n    },\r\n    loadDetail(){\r\n      // console.log(this.xlid);\r\n      // console.log(1);\r\n      var url=\"detail\";\r\n      var obj={xlid:this.xlid};\r\n      this.axios.get(url,{params:obj})\r\n      .then(result=>{\r\n        // console.log(result.data.data);\r\n        this.listDetail=result.data.data;\r\n        // console.log(this.listDetail[0].title);\r\n        this.titleDetail=this.listDetail[0].title;\r\n        this.priceDetail=this.listDetail[0].price;\r\n        // 下面详情页的\r\n        var urls=\"product\";\r\n        var objs={flid:this.listDetail[0].flid}\r\n        this.axios.get(urls,{params:objs})\r\n        .then(result=>{\r\n          // console.log(result.data.data);\r\n          this.listDets=result.data.data.splice(5);\r\n          // console.log(this.listDets);\r\n        })\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .houtui{\r\n    width:20%; height:100%;\r\n    margin:0 15px;\r\n  }\r\n  .page{\r\n    width:100%;\r\n    height:350px;\r\n  }\r\n  .mint-swipe-items-wrap div.is-active[data-v-6b7ffeb5]{\r\n    background:#e7eef05b;\r\n  }\r\n  .detail{\r\n    width:100%;\r\n    display: block;\r\n    margin: 0 auto;\r\n  }\r\n  .desc>h3{\r\n    margin-top:0;\r\n    margin-bottom:0;\r\n  }\r\n  .price{\r\n    color: darkslategrey;\r\n  }\r\n  .s1{\r\n    display: inline-block;\r\n  }\r\n  .desc-title{\r\n    padding: 10px;\r\n  }\r\n  h3{\r\n    margin:0;\r\n  }\r\n  .desc-text{\r\n    background-color:#e7eef05b;\r\n    border-radius: 3px;\r\n    padding: 5px;\r\n  }\r\n  .desc-text>p{\r\n    color:darkgray;\r\n  }\r\n   .desc-title>p{\r\n     color:orangered\r\n   }\r\n  span.detail,.recommond{\r\n    font-weight:bold;\r\n    text-align: center\r\n  }  \r\n  .desc-text>p>span{\r\n    color: initial;\r\n    margin-left: 45px;\r\n  }\r\n  .group img{\r\n    width: 48%;\r\n    height: 50%;\r\n  }\r\n  .group a{\r\n    text-decoration: none;\r\n    color: initial\r\n  }\r\n  .group span{\r\n    margin-top: 0;\r\n    text-align: left;\r\n    color:initial\r\n  }\r\n.group{\r\n  width: 49%;\r\n  text-align: center;\r\n}\r\n.list{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-bottom:50px;\r\n  }\r\n.group .price{\r\n    color: orangered\r\n  }\r\n.mint-button{\r\n  color:orangered;\r\n  width:45%;\r\n  margin-right:25px;\r\n  background:#eeffee;\r\n}\r\n.btns{\r\n  display: flex; \r\n  position:fixed;\r\n  bottom:1px;\r\n}\r\n</style>"]}]}