{"remainingRequest":"D:\\life\\life-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\life\\life-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\life\\life-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\life\\life-vue\\src\\components\\common\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\life\\life-vue\\src\\components\\common\\Detail.vue","mtime":1581661571331},{"path":"D:\\life\\life-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\life\\life-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\life\\life-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\life\\life-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB4bGlkOiB0aGlzLiRyb3V0ZS5xdWVyeS54bGlkLAogICAgICBsaXN0RGV0YWlsOiBbXSwKICAgICAgdGl0bGVEZXRhaWw6ICcnLAogICAgICBwcmljZURldGFpbDogMCwKICAgICAgbGlzdERldHM6IFtdIC8v5LiL6Z2i6K+m5oOF6aG155qECgogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWREZXRhaWwoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nOiBmdW5jdGlvbiBjaGFuZygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSAnY2FydCc7CiAgICAgIHRoaXMuYXhpb3MuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT0gLTIpIHsKICAgICAgICAgIF90aGlzLiR0b2FzdCgn6K+355m75b2VJyk7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvTG9naW4nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvQ2FydCcpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5re75Yqg6LSt54mp6L2mCiAgICBhZGRDYXJ0OiBmdW5jdGlvbiBhZGRDYXJ0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB4bGlkID0gdGhpcy54bGlkOwogICAgICB2YXIgdGl0bGUgPSB0aGlzLnRpdGxlRGV0YWlsOwogICAgICB2YXIgcHJpY2UgPSB0aGlzLnByaWNlRGV0YWlsOwogICAgICB2YXIgcGljID0gdGhpcy5saXN0RGV0YWlsWzFdLnBpYzsKICAgICAgdmFyIHVybCA9ICJhZGRjYXJ0IjsKICAgICAgdmFyIG9iaiA9IHsKICAgICAgICB4bGlkOiB4bGlkLAogICAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgICBwcmljZTogcHJpY2UsCiAgICAgICAgcGljOiBwaWMKICAgICAgfTsKICAgICAgdGhpcy5heGlvcy5nZXQodXJsLCB7CiAgICAgICAgcGFyYW1zOiBvYmoKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0LmRhdGEpOwogICAgICAgIGlmIChyZXN1bHQuZGF0YS5jb2RlID09IC0yKSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Vib3goIuaPkOekuiIsICLor7fnmbvlvZUiKTsKCiAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCcvTG9naW4nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiR0b2FzdCgn5re75Yqg5oiQ5YqfJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBob3V0dWljbGljazogZnVuY3Rpb24gaG91dHVpY2xpY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7IC8v6aaW6aG1CiAgICB9LAogICAgY2hhbmdlczogZnVuY3Rpb24gY2hhbmdlcygpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKCcvRGV0YWlsJyk7CiAgICB9LAogICAgbG9hZERldGFpbDogZnVuY3Rpb24gbG9hZERldGFpbCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnhsaWQpOwogICAgICAvLyBjb25zb2xlLmxvZygxKTsKICAgICAgdmFyIHVybCA9ICJkZXRhaWwiOwogICAgICB2YXIgb2JqID0gewogICAgICAgIHhsaWQ6IHRoaXMueGxpZAogICAgICB9OwogICAgICB0aGlzLmF4aW9zLmdldCh1cmwsIHsKICAgICAgICBwYXJhbXM6IG9iagogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YS5kYXRhKTsKICAgICAgICBfdGhpczMubGlzdERldGFpbCA9IHJlc3VsdC5kYXRhLmRhdGE7IC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdERldGFpbFswXS50aXRsZSk7CgogICAgICAgIF90aGlzMy50aXRsZURldGFpbCA9IF90aGlzMy5saXN0RGV0YWlsWzBdLnRpdGxlOwogICAgICAgIF90aGlzMy5wcmljZURldGFpbCA9IF90aGlzMy5saXN0RGV0YWlsWzBdLnByaWNlOyAvLyDkuIvpnaLor6bmg4XpobXnmoQKCiAgICAgICAgdmFyIHVybHMgPSAicHJvZHVjdCI7CiAgICAgICAgdmFyIG9ianMgPSB7CiAgICAgICAgICBmbGlkOiBfdGhpczMubGlzdERldGFpbFswXS5mbGlkCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXMzLmF4aW9zLmdldCh1cmxzLCB7CiAgICAgICAgICBwYXJhbXM6IG9ianMKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhLmRhdGEpOwogICAgICAgICAgX3RoaXMzLmxpc3REZXRzID0gcmVzdWx0LmRhdGEuZGF0YS5zcGxpY2UoNSk7IC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdERldHMpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 详情页添加购物车 -->\r\n    <mt-swipe :auto=\"0\" class=\"page\"  >\r\n      <mt-swipe-item v-for=\"(item,i) of listDetail\" :key=\"i\"><img class=\"detail\" :src=\"`http://127.0.0.1:3000/${item.pic}`\" alt=\"\"></mt-swipe-item>\r\n    </mt-swipe>\r\n    <div class=\"desc-title\">\r\n      <h3>{{titleDetail}} 300g/盒</h3>\r\n      <p>每日采摘，空运到店，新鲜美味</p>\r\n      <p ><mt-badge size=\"small\" color=\"orange\">迎新价</mt-badge>￥{{priceDetail.toFixed(2)}}</p>\r\n      <div class=\"desc-text\">\r\n        <span class=\"detail\">--详情·DETAIL--</span>\r\n        <p>产地<span>四川成都</span></p>\r\n        <p>净重<span>1kg</span></p>\r\n        <p>储存<span>冷藏</span></p>\r\n      </div>\r\n    </div>\r\n    <p class=\"recommond\">--推荐·RECOMMEND--</p>\r\n    <div class=\"list\">\r\n      <div class=\"group\" v-for=\"(items,i) of listDets\" :key=\"i\" @click=\"changes\">\r\n        <router-link :to=\"'/detail?xlid='+items.xlid\">\r\n          <img :src=\"`http://127.0.0.1:3000/${items.pic}`\" alt=\"\">\r\n          <p>{{items.title}}</p>\r\n          <p class=\"price\">欢迎选购</p>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <div class=\"btns\">\r\n      <img class=\"houtui\" @click=\"houtuiclick\" src=\"../../assets/img/houtui.png\" alt=\"\">\r\n      <mt-button @click=\"addCart\">加入购物车</mt-button>\r\n      <mt-button @click=\"chang\">查看购物车</mt-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){\r\n    return{\r\n      xlid:this.$route.query.xlid,\r\n      listDetail:[],\r\n      titleDetail:'',\r\n      priceDetail:0,\r\n      listDets:[],   //下面详情页的\r\n    }\r\n  },\r\n  created() {\r\n    this.loadDetail();\r\n  },\r\n  methods:{\r\n    chang(){\r\n      var url='cart';\r\n      this.axios.get(url)\r\n      .then(result=>{\r\n        if(result.data.code==-2){\r\n          this.$toast('请登录');\r\n          this.$router.push('/Login');\r\n        }else{\r\n          this.$router.push('/Cart');\r\n        }\r\n      }) \r\n    },\r\n    // 添加购物车\r\n    addCart(){\r\n      var xlid=this.xlid;\r\n      var title=this.titleDetail;\r\n      var price=this.priceDetail;\r\n      var pic=this.listDetail[1].pic;\r\n      var url=\"addcart\";  \r\n      var obj={xlid,title,price,pic}\r\n      this.axios.get(url,{params:obj})\r\n      .then(result=>{\r\n        // console.log(result.data);\r\n        if(result.data.code==-2){\r\n          this.$messagebox(\"提示\",\"请登录\");\r\n          this.$router.push('/Login');\r\n        }else{\r\n          this.$toast('添加成功');\r\n        }\r\n      })\r\n    },\r\n    houtuiclick(){\r\n      this.$router.push('/'); //首页\r\n    },\r\n    changes(){\r\n      this.$router.go('/Detail');\r\n    },\r\n    loadDetail(){\r\n      // console.log(this.xlid);\r\n      // console.log(1);\r\n      var url=\"detail\";\r\n      var obj={xlid:this.xlid};\r\n      this.axios.get(url,{params:obj})\r\n      .then(result=>{\r\n        // console.log(result.data.data);\r\n        this.listDetail=result.data.data;\r\n        // console.log(this.listDetail[0].title);\r\n        this.titleDetail=this.listDetail[0].title;\r\n        this.priceDetail=this.listDetail[0].price;\r\n        // 下面详情页的\r\n        var urls=\"product\";\r\n        var objs={flid:this.listDetail[0].flid}\r\n        this.axios.get(urls,{params:objs})\r\n        .then(result=>{\r\n          // console.log(result.data.data);\r\n          this.listDets=result.data.data.splice(5);\r\n          // console.log(this.listDets);\r\n        })\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .houtui{\r\n    width:20%; height:100%;\r\n    margin:0 15px;\r\n  }\r\n  .page{\r\n    width:100%;\r\n    height:350px;\r\n  }\r\n  .mint-swipe-items-wrap div.is-active[data-v-6b7ffeb5]{\r\n    background:#e7eef05b;\r\n  }\r\n  .detail{\r\n    width:100%;\r\n    display: block;\r\n    margin: 0 auto;\r\n  }\r\n  .desc>h3{\r\n    margin-top:0;\r\n    margin-bottom:0;\r\n  }\r\n  .price{\r\n    color: darkslategrey;\r\n  }\r\n  .s1{\r\n    display: inline-block;\r\n  }\r\n  .desc-title{\r\n    padding: 10px;\r\n  }\r\n  h3{\r\n    margin:0;\r\n  }\r\n  .desc-text{\r\n    background-color:#e7eef05b;\r\n    border-radius: 3px;\r\n    padding: 5px;\r\n  }\r\n  .desc-text>p{\r\n    color:darkgray;\r\n  }\r\n   .desc-title>p{\r\n     color:orangered\r\n   }\r\n  span.detail,.recommond{\r\n    font-weight:bold;\r\n    text-align: center\r\n  }  \r\n  .desc-text>p>span{\r\n    color: initial;\r\n    margin-left: 45px;\r\n  }\r\n  .group img{\r\n    width: 48%;\r\n    height: 50%;\r\n  }\r\n  .group a{\r\n    text-decoration: none;\r\n    color: initial\r\n  }\r\n  .group span{\r\n    margin-top: 0;\r\n    text-align: left;\r\n    color:initial\r\n  }\r\n.group{\r\n  width: 49%;\r\n  text-align: center;\r\n}\r\n.list{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-bottom:50px;\r\n  }\r\n.group .price{\r\n    color: orangered\r\n  }\r\n.mint-button{\r\n  color:orangered;\r\n  width:45%;\r\n  margin-right:25px;\r\n  background:#eeffee;\r\n}\r\n.btns{\r\n  display: flex; \r\n  position:fixed;\r\n  bottom:1px;\r\n}\r\n</style>"],"sourceRoot":"src/components/common"}]}